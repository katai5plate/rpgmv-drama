"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(e){_defineProperty(r,e,t[e])})}return r}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}
/*:
 * @plugindesc Scenario message management plug-in for RPG Maker MV
 * @author Had2Apps
 *
 * @help 
 * https://github.com/katai5plate/rpgmv-drama/blob/master/README.md
 *
 */({libraries:[],faces:{},define:function(){window.drama=void 0===window.drama?_objectSpread({},this):window.drama},chara:function(e){this.faces=_objectSpread({},this.faces,e)},write:function(e,r){0===this.getBook(e).length?this.libraries=_toConsumableArray(this.libraries).concat([{book:e,pages:r}]):console.error('The "'.concat(e,'" book has already been booked.'))},read:function(e,r){var t,n=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];(t=this.getBook(e).pages[r]).slice.apply(t,_toConsumableArray(o)).forEach(function(e){var r=e.split(/[\n|\r]/g).map(function(e){return e.replace(/^.*?(\S.*?)/,"$1")}),t=n.faces[r[0]]||["",0];$gameMessage.setFaceImage(t[0],t[1]),$gameMessage.add("".concat(r.slice(1).join("\n"),"\f"))})},getBook:function(r){return this.libraries.filter(function(e){return e.book===r})[0]||[]}}).define();
